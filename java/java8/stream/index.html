<!DOCTYPE html>
<html>
  <head>
    <title>PerHan_Enjoy</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-07-23T15:12:12 CST">
<title>5. Stream :: PerHan_Enjoy</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/peterhan-enjoy.github.com\/";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/java/java8/stream/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="https://peterhan-enjoy.github.com/">PerHan_Enjoy</a>
  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>

</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/utils/" class="dd-item haschildren
        ">
      <div>
      <a href="/utils/">工具类</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/utils/markdown/" class="dd-item">
        <div>
          <a href="/utils/markdown/">
            Markdown使用
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/utils/docker/" class="dd-item">
        <div>
          <a href="/utils/docker/">
            docker 基本使用
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/utils/ffmpeg/" class="dd-item">
        <div>
          <a href="/utils/ffmpeg/">
            ffmpeg 安装
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/utils/gitlab/" class="dd-item">
        <div>
          <a href="/utils/gitlab/">
            gitlab 离线安装
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/utils/hugo/" class="dd-item">
        <div>
          <a href="/utils/hugo/">
            hugo 搭建个人博客
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/utils/nexus3/" class="dd-item">
        <div>
          <a href="/utils/nexus3/">
            nexus3安装及使用
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/utils/pm20/" class="dd-item">
        <div>
          <a href="/utils/pm20/">
            pm2常用 命令
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/utils/verdaccio/" class="dd-item">
        <div>
          <a href="/utils/verdaccio/">
            内网搭建npm私服
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/java/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/java/">java</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/java/java8/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/java/java8/">Java8新特性</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/java/java8/lambda/" class="dd-item">
        <div>
          <a href="/java/java8/lambda/">
            1. Lambda 表达式
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/java8/method/" class="dd-item">
        <div>
          <a href="/java/java8/method/">
            2. 方法引用
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/java8/functioninterface/" class="dd-item">
        <div>
          <a href="/java/java8/functioninterface/">
            3. 函数式接口
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/java8/defaultmethod/" class="dd-item">
        <div>
          <a href="/java/java8/defaultmethod/">
            4. 默认方法
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/java8/stream/" class="dd-item active">
        <div>
          <a href="/java/java8/stream/">
            5. Stream
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/java8/optional/" class="dd-item">
        <div>
          <a href="/java/java8/optional/">
            6. Optional
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/java8/nashorn/" class="dd-item">
        <div>
          <a href="/java/java8/nashorn/">
            7. Nashorn JavaScript
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/java8/dateapi/" class="dd-item">
        <div>
          <a href="/java/java8/dateapi/">
            8. 日期时间 API
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/java8/base64/" class="dd-item">
        <div>
          <a href="/java/java8/base64/">
            9. Base64
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/java/jvm/" class="dd-item
        ">
      <div>
      <a href="/java/jvm/">Jvm于虚拟机</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/java/springboot/" class="dd-item
        ">
      <div>
      <a href="/java/springboot/">SpringBoot</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/java/springcloud/" class="dd-item
        ">
      <div>
      <a href="/java/springcloud/">SpringCloud</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/java/javautils/" class="dd-item haschildren
        ">
      <div>
      <a href="/java/javautils/">java工具类</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/java/javautils/excelutil/" class="dd-item">
        <div>
          <a href="/java/javautils/excelutil/">
            Excel工具类
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/exceltohtmlutil/" class="dd-item">
        <div>
          <a href="/java/javautils/exceltohtmlutil/">
            Excel转换html
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/java/javautils/gis/" class="dd-item haschildren
        ">
      <div>
      <a href="/java/javautils/gis/">Gis相关工具类</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/java/javautils/gis/dae2gltf/" class="dd-item">
        <div>
          <a href="/java/javautils/gis/dae2gltf/">
            Dae转换Gltf
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/gis/geoserver/" class="dd-item">
        <div>
          <a href="/java/javautils/gis/geoserver/">
            Geoserver
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/gis/kml%E5%AF%BC%E5%85%A5/" class="dd-item">
        <div>
          <a href="/java/javautils/gis/kml%E5%AF%BC%E5%85%A5/">
            Kml导入
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/gis/shputil/" class="dd-item">
        <div>
          <a href="/java/javautils/gis/shputil/">
            Shp工具类
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/gis/jstutil/" class="dd-item">
        <div>
          <a href="/java/javautils/gis/jstutil/">
            java几何运算工具类
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/java/javautils/html2image/" class="dd-item">
        <div>
          <a href="/java/javautils/html2image/">
            Html转换Image
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/jsonutil/" class="dd-item">
        <div>
          <a href="/java/javautils/jsonutil/">
            Json工具类
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/pdfutil/" class="dd-item">
        <div>
          <a href="/java/javautils/pdfutil/">
            Pdf工具类
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/httpclientutil/" class="dd-item">
        <div>
          <a href="/java/javautils/httpclientutil/">
            Post请求
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/wordutil/" class="dd-item">
        <div>
          <a href="/java/javautils/wordutil/">
            Word工具类
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/word2htmlutil/" class="dd-item">
        <div>
          <a href="/java/javautils/word2htmlutil/">
            Word转换html
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/csvutil/" class="dd-item">
        <div>
          <a href="/java/javautils/csvutil/">
            csv 工具类
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/ffmpeg/" class="dd-item">
        <div>
          <a href="/java/javautils/ffmpeg/">
            ffmpeg 使用
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/decryptionziputil/" class="dd-item">
        <div>
          <a href="/java/javautils/decryptionziputil/">
            加密解压缩工具类
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/base64util/" class="dd-item">
        <div>
          <a href="/java/javautils/base64util/">
            图片base64转换工具类
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java/javautils/zipfileutil/" class="dd-item">
        <div>
          <a href="/java/javautils/zipfileutil/">
            解压缩工具类
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/web/" class="dd-item haschildren
        ">
      <div>
      <a href="/web/">前端</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/web/es6/" class="dd-item
        ">
      <div>
      <a href="/web/es6/">ES6</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/web/react/" class="dd-item
        ">
      <div>
      <a href="/web/react/">React</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/design/" class="dd-item haschildren
        ">
      <div>
      <a href="/design/">设计模式</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/design/singletonpattern/" class="dd-item">
        <div>
          <a href="/design/singletonpattern/">
            单例模式
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/design/commandpattern/" class="dd-item">
        <div>
          <a href="/design/commandpattern/">
            命令模式
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/design/factorypattern/" class="dd-item">
        <div>
          <a href="/design/factorypattern/">
            工厂模式
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/design/strategypattern/" class="dd-item">
        <div>
          <a href="/design/strategypattern/">
            策略模式
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/design/decoratorpattern/" class="dd-item">
        <div>
          <a href="/design/decoratorpattern/">
            装饰器模式
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/design/observerpattern/" class="dd-item">
        <div>
          <a href="/design/observerpattern/">
            观察者模式
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">

    <div class="nav-select">
      <center>Navigation :
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/utils/" >
   工具类</option>
    <option value="/java/" >
   java</option> 
    <option value="/java/java8/" >
  - 
   Java8新特性</option> 
      <option value="/java/java8/lambda/" >-- 1. Lambda 表达式</option>
      <option value="/java/java8/method/" >-- 2. 方法引用</option>
      <option value="/java/java8/functioninterface/" >-- 3. 函数式接口</option>
      <option value="/java/java8/defaultmethod/" >-- 4. 默认方法</option>
      <option value="/java/java8/stream/"  selected>-- 5. Stream</option>
      <option value="/java/java8/optional/" >-- 6. Optional</option>
      <option value="/java/java8/nashorn/" >-- 7. Nashorn JavaScript</option>
      <option value="/java/java8/dateapi/" >-- 8. 日期时间 API</option>
      <option value="/java/java8/base64/" >-- 9. Base64</option>
  
    <option value="/java/jvm/" >
  - 
   Jvm于虚拟机</option>
    <option value="/java/springboot/" >
  - 
   SpringBoot</option>
    <option value="/java/springcloud/" >
  - 
   SpringCloud</option>
    <option value="/java/javautils/" >
  - 
   java工具类</option>
  
    <option value="/web/" >
   前端</option>
    <option value="/design/" >
   设计模式</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/peterhan-enjoy.github.com\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>


    <h1>5. Stream</h1>

    
    
    
    

<p>Java 8 API添加了一个新的抽象称为流Stream，可以让你以一种声明的方式处理数据。</p>

<p>Stream 使用一种类似用 SQL 语句从数据库查询数据的直观方式来提供一种对 Java 集合运算和表达的高阶抽象。</p>

<p>Stream API可以极大提高Java程序员的生产力，让程序员写出高效率、干净、简洁的代码。</p>

<p>这种风格将要处理的元素集合看作一种流， 流在管道中传输， 并且可以在管道的节点上进行处理， 比如筛选， 排序，聚合等。</p>

<p>元素流在管道中经过中间操作（intermediate operation）的处理，最后由最终操作(terminal operation)得到前面处理的结果。</p>

<ul>
<li>Stream（流）是一个来自数据源的元素队列并支持聚合操作</li>
<li>元素是特定类型的对象，形成一个队列。 Java中的Stream并不会存储元素，而是按需计算。</li>
<li>数据源 流的来源。 可以是集合，数组，I/O channel， 产生器generator 等。</li>

<li><p>聚合操作 类似SQL语句一样的操作， 比如filter, map, reduce, find, match, sorted等。
和以前的Collection操作不同， Stream操作还有两个基础的特征：</p></li>

<li><p>Pipelining: 中间操作都会返回流对象本身。 这样多个操作可以串联成一个管道， 如同流式风格（fluent style）。 这样做可以对操作进行优化， 比如延迟执行(laziness)和短路( short-circuiting)。</p></li>

<li><p>内部迭代： 以前对集合遍历都是通过Iterator或者For-Each的方式, 显式的在集合外部进行迭代， 这叫做外部迭代。 Stream提供了内部迭代的方式， 通过访问者模式(Visitor)实现。</p>

<h2 id="生成流">生成流</h2>

<p>在 Java 8 中, 集合接口有两个方法来生成流：</p></li>

<li><p>stream() − 为集合创建串行流。</p></li>

<li><p>parallelStream() − 为集合创建并行流。</p>

<pre><code>List&lt;String&gt; strings = Arrays.asList(&quot;abc&quot;, &quot;&quot;, &quot;bc&quot;, &quot;efg&quot;, &quot;abcd&quot;,&quot;&quot;, &quot;jkl&quot;);
List&lt;String&gt; filtered = strings.stream().filter(string -&gt; !string.isEmpty()).collect(Collectors.toList());
</code></pre>

<h3 id="foreach">forEach</h3>

<p>Stream 提供了新的方法 &lsquo;forEach&rsquo; 来迭代流中的每个数据。以下代码片段使用 forEach 输出了10个随机数：</p>

<pre><code>Random random = new Random();
random.ints().limit(10).forEach(System.out::println);
</code></pre>

<h3 id="map">map</h3>

<p>map 方法用于映射每个元素到对应的结果，以下代码片段使用 map 输出了元素对应的平方数：</p>

<pre><code>List&lt;Integer&gt; numbers = Arrays.asList(3, 2, 2, 3, 7, 3, 5);
// 获取对应的平方数
List&lt;Integer&gt; squaresList = numbers.stream().map( i -&gt; i*i).distinct().collect(Collectors.toList());
</code></pre>

<h3 id="filter">filter</h3>

<p>filter 方法用于通过设置的条件过滤出元素。以下代码片段使用 filter 方法过滤出空字符串：</p>

<pre><code>List&lt;String&gt;strings = Arrays.asList(&quot;abc&quot;, &quot;&quot;, &quot;bc&quot;, &quot;efg&quot;, &quot;abcd&quot;,&quot;&quot;, &quot;jkl&quot;);
// 获取空字符串的数量
int count = strings.stream().filter(string -&gt; string.isEmpty()).count();
</code></pre>

<h3 id="limit">limit</h3>

<p>limit 方法用于获取指定数量的流。 以下代码片段使用 limit 方法打印出 10 条数据：</p>

<pre><code>Random random = new Random();
random.ints().limit(10).forEach(System.out::println);
</code></pre>

<h3 id="sorted">sorted</h3>

<p>sorted 方法用于对流进行排序。以下代码片段使用 sorted 方法对输出的 10 个随机数进行排序：</p>

<pre><code>Random random = new Random();
random.ints().limit(10).sorted().forEach(System.out::println);
</code></pre>

<h3 id="并行-parallel-程序">并行（parallel）程序</h3>

<p>parallelStream 是流并行处理程序的代替方法。以下实例我们使用 parallelStream 来输出空字符串的数量：</p>

<pre><code>List&lt;String&gt; strings = Arrays.asList(&quot;abc&quot;, &quot;&quot;, &quot;bc&quot;, &quot;efg&quot;, &quot;abcd&quot;,&quot;&quot;, &quot;jkl&quot;);
// 获取空字符串的数量
int count = strings.parallelStream().filter(string -&gt; string.isEmpty()).count();
</code></pre>

<p>我们可以很容易的在顺序运行和并行直接切换。</p></li>
</ul>

<h3 id="collectors">Collectors</h3>

<p>Collectors 类实现了很多归约操作，例如将流转换成集合和聚合元素。Collectors 可用于返回列表或字符串：</p>

<pre><code>List&lt;String&gt;strings = Arrays.asList(&quot;abc&quot;, &quot;&quot;, &quot;bc&quot;, &quot;efg&quot;, &quot;abcd&quot;,&quot;&quot;, &quot;jkl&quot;);
List&lt;String&gt; filtered = strings.stream().filter(string -&gt; !string.isEmpty()).collect(Collectors.toList());

System.out.println(&quot;筛选列表: &quot; + filtered);
String mergedString = strings.stream().filter(string -&gt; !string.isEmpty()).collect(Collectors.joining(&quot;, &quot;));
System.out.println(&quot;合并字符串: &quot; + mergedString);
</code></pre>

<h3 id="统计">统计</h3>

<p>另外，一些产生统计结果的收集器也非常有用。它们主要用于int、double、long等基本类型上，它们可以用来产生类似如下的统计结果。</p>

<pre><code>List&lt;Integer&gt; numbers = Arrays.asList(3, 2, 2, 3, 7, 3, 5);

IntSummaryStatistics stats = numbers.stream().mapToInt((x) -&gt; x).summaryStatistics();

System.out.println(&quot;列表中最大的数 : &quot; + stats.getMax());
System.out.println(&quot;列表中最小的数 : &quot; + stats.getMin());
System.out.println(&quot;所有数之和 : &quot; + stats.getSum());
System.out.println(&quot;平均数 : &quot; + stats.getAverage());
</code></pre>

<p>Stream 完整实例
将以下代码放入 Java8Tester.java 文件中：</p>

<pre><code>Java8Tester.java 文件
import java.util.ArrayList;
import java.util.Arrays;
import java.util.IntSummaryStatistics;
import java.util.List;
import java.util.Random;
import java.util.stream.Collectors;
import java.util.Map;

public class Java8Tester {
   public static void main(String args[]){
      System.out.println(&quot;使用 Java 7: &quot;);

      // 计算空字符串
      List&lt;String&gt; strings = Arrays.asList(&quot;abc&quot;, &quot;&quot;, &quot;bc&quot;, &quot;efg&quot;, &quot;abcd&quot;,&quot;&quot;, &quot;jkl&quot;);
      System.out.println(&quot;列表: &quot; +strings);
      long count = getCountEmptyStringUsingJava7(strings);

      System.out.println(&quot;空字符数量为: &quot; + count);
      count = getCountLength3UsingJava7(strings);

      System.out.println(&quot;字符串长度为 3 的数量为: &quot; + count);

      // 删除空字符串
      List&lt;String&gt; filtered = deleteEmptyStringsUsingJava7(strings);
      System.out.println(&quot;筛选后的列表: &quot; + filtered);

      // 删除空字符串，并使用逗号把它们合并起来
      String mergedString = getMergedStringUsingJava7(strings,&quot;, &quot;);
      System.out.println(&quot;合并字符串: &quot; + mergedString);
      List&lt;Integer&gt; numbers = Arrays.asList(3, 2, 2, 3, 7, 3, 5);

      // 获取列表元素平方数
      List&lt;Integer&gt; squaresList = getSquares(numbers);
      System.out.println(&quot;平方数列表: &quot; + squaresList);
      List&lt;Integer&gt; integers = Arrays.asList(1,2,13,4,15,6,17,8,19);

      System.out.println(&quot;列表: &quot; +integers);
      System.out.println(&quot;列表中最大的数 : &quot; + getMax(integers));
      System.out.println(&quot;列表中最小的数 : &quot; + getMin(integers));
      System.out.println(&quot;所有数之和 : &quot; + getSum(integers));
      System.out.println(&quot;平均数 : &quot; + getAverage(integers));
      System.out.println(&quot;随机数: &quot;);

      // 输出10个随机数
      Random random = new Random();

      for(int i=0; i &lt; 10; i++){
         System.out.println(random.nextInt());
      }

      System.out.println(&quot;使用 Java 8: &quot;);
      System.out.println(&quot;列表: &quot; +strings);

      count = strings.stream().filter(string-&gt;string.isEmpty()).count();
      System.out.println(&quot;空字符串数量为: &quot; + count);

      count = strings.stream().filter(string -&gt; string.length() == 3).count();
      System.out.println(&quot;字符串长度为 3 的数量为: &quot; + count);

      filtered = strings.stream().filter(string -&gt;!string.isEmpty()).collect(Collectors.toList());
      System.out.println(&quot;筛选后的列表: &quot; + filtered);

      mergedString = strings.stream().filter(string -&gt;!string.isEmpty()).collect(Collectors.joining(&quot;, &quot;));
      System.out.println(&quot;合并字符串: &quot; + mergedString);

      squaresList = numbers.stream().map( i -&gt;i*i).distinct().collect(Collectors.toList());
      System.out.println(&quot;Squares List: &quot; + squaresList);
      System.out.println(&quot;列表: &quot; +integers);

      IntSummaryStatistics stats = integers.stream().mapToInt((x) -&gt;x).summaryStatistics();

      System.out.println(&quot;列表中最大的数 : &quot; + stats.getMax());
      System.out.println(&quot;列表中最小的数 : &quot; + stats.getMin());
      System.out.println(&quot;所有数之和 : &quot; + stats.getSum());
      System.out.println(&quot;平均数 : &quot; + stats.getAverage());
      System.out.println(&quot;随机数: &quot;);

      random.ints().limit(10).sorted().forEach(System.out::println);

      // 并行处理
      count = strings.parallelStream().filter(string -&gt; string.isEmpty()).count();
      System.out.println(&quot;空字符串的数量为: &quot; + count);
   }

   private static int getCountEmptyStringUsingJava7(List&lt;String&gt; strings){
      int count = 0;

      for(String string: strings){

         if(string.isEmpty()){
            count++;
         }
      }
      return count;
   }

   private static int getCountLength3UsingJava7(List&lt;String&gt; strings){
      int count = 0;

      for(String string: strings){

         if(string.length() == 3){
            count++;
         }
      }
      return count;
   }

   private static List&lt;String&gt; deleteEmptyStringsUsingJava7(List&lt;String&gt; strings){
      List&lt;String&gt; filteredList = new ArrayList&lt;String&gt;();

      for(String string: strings){

         if(!string.isEmpty()){
             filteredList.add(string);
         }
      }
      return filteredList;
   }

   private static String getMergedStringUsingJava7(List&lt;String&gt; strings, String separator){
      StringBuilder stringBuilder = new StringBuilder();

      for(String string: strings){

         if(!string.isEmpty()){
            stringBuilder.append(string);
            stringBuilder.append(separator);
         }
      }
      String mergedString = stringBuilder.toString();
      return mergedString.substring(0, mergedString.length()-2);
   }

   private static List&lt;Integer&gt; getSquares(List&lt;Integer&gt; numbers){
      List&lt;Integer&gt; squaresList = new ArrayList&lt;Integer&gt;();

      for(Integer number: numbers){
         Integer square = new Integer(number.intValue() * number.intValue());

         if(!squaresList.contains(square)){
            squaresList.add(square);
         }
      }
      return squaresList;
   }

   private static int getMax(List&lt;Integer&gt; numbers){
      int max = numbers.get(0);

      for(int i=1;i &lt; numbers.size();i++){

         Integer number = numbers.get(i);

         if(number.intValue() &gt; max){
            max = number.intValue();
         }
      }
      return max;
   }

   private static int getMin(List&lt;Integer&gt; numbers){
      int min = numbers.get(0);

      for(int i=1;i &lt; numbers.size();i++){
         Integer number = numbers.get(i);

         if(number.intValue() &lt; min){
            min = number.intValue();
         }
      }
      return min;
   }

   private static int getSum(List numbers){
      int sum = (int)(numbers.get(0));

      for(int i=1;i &lt; numbers.size();i++){
         sum += (int)numbers.get(i);
      }
      return sum;
   }

   private static int getAverage(List&lt;Integer&gt; numbers){
      return getSum(numbers) / numbers.size();
   }
}
执行以上脚本，输出结果为：

$ javac Java8Tester.java
$ java Java8Tester
使用 Java 7:
列表: [abc, , bc, efg, abcd, , jkl]
空字符数量为: 2
字符串长度为 3 的数量为: 3
筛选后的列表: [abc, bc, efg, abcd, jkl]
合并字符串: abc, bc, efg, abcd, jkl
平方数列表: [9, 4, 49, 25]
列表: [1, 2, 13, 4, 15, 6, 17, 8, 19]
列表中最大的数 : 19
列表中最小的数 : 1
所有数之和 : 85
平均数 : 9
随机数:
-393170844
-963842252
447036679
-1043163142
-881079698
221586850
-1101570113
576190039
-1045184578
1647841045
使用 Java 8:
列表: [abc, , bc, efg, abcd, , jkl]
空字符串数量为: 2
字符串长度为 3 的数量为: 3
筛选后的列表: [abc, bc, efg, abcd, jkl]
合并字符串: abc, bc, efg, abcd, jkl
Squares List: [9, 4, 49, 25]
列表: [1, 2, 13, 4, 15, 6, 17, 8, 19]
列表中最大的数 : 19
列表中最小的数 : 1
所有数之和 : 85
平均数 : 9.444444444444445
随机数:
-1743813696
-1301974944
-1299484995
-779981186
136544902
555792023
1243315896
1264920849
1472077135
1706423674
空字符串的数量为: 2
</code></pre>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/java/java8/defaultmethod/" title="4. 默认方法"> <i class="fa fa-chevron-left"></i><label>4. 默认方法</label></a>
    <a class="nav nav-next" href="/java/java8/optional/" title="6. Optional" style="margin-right: 0px;"><label>6. Optional</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    

    
    <div class="github-link">

    </div>
    
  </div>


	<div>



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>